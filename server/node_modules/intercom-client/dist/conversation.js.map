{"version":3,"file":"conversation.js","sourceRoot":"","sources":["../../lib/conversation.ts"],"names":[],"mappings":"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"}